{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/datej/OneDrive/Desktop/zavrsni/DEX-ETH/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/datej/OneDrive/Desktop/zavrsni/DEX-ETH/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _assertThisInitialized from\"C:/Users/datej/OneDrive/Desktop/zavrsni/DEX-ETH/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"C:/Users/datej/OneDrive/Desktop/zavrsni/DEX-ETH/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/datej/OneDrive/Desktop/zavrsni/DEX-ETH/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/datej/OneDrive/Desktop/zavrsni/DEX-ETH/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/datej/OneDrive/Desktop/zavrsni/DEX-ETH/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import ReactDOM from'react-dom';import Web3 from'web3';import M,{updateTextFields}from'materialize-css';import'./index.css';import FesbToken from'./build/FesbToken.json';import MatejSwap from'./build/MatejSwap.json';import MatejSwapLP from'./build/MatejSwapLP.json';import Identicon from'identicon.js';import DialogBox from'./components/AlertDialog';import AlertDialog from'./components/AlertDialog';import PriceAndInfoSideDiv from'./components/PriceAndInfoSideDiv';import Icon from'./components/Icon';import ButtonOne from'./components/ButtonOne';import ButtonTwo from'./components/ButtonTwo';import ButtonThree from'./components/ButtonThree';import InputFieldLP from'./components/InputFieldLP';import NavBar from'./components/Navbar';import InputField from'./components/InputField';import InputFieldTwo from'./components/InputFieldTwo';import Tab from'./components/Tab';import Curve from'./components/Curve.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var web3=new Web3(Web3.givenProvider);var Container=/*#__PURE__*/function(_React$Component){_inherits(Container,_React$Component);var _super=_createSuper(Container);function Container(){_classCallCheck(this,Container);return _super.apply(this,arguments);}_createClass(Container,[{key:\"render\",value:function render(){if(this.props.swapping===true)return/*#__PURE__*/_jsx(SwapContainer,{eth:this.props.eth,fesb:this.props.fesb,eth_change:this.props.eth_change,fesb_change:this.props.fesb_change,constant:this.props.constant,price:this.props.price,balances:this.props.balances,ethChange:this.props.ethChange,fesbChange:this.props.fesbChange,buy:this.props.buy,sell:this.props.sell});else return/*#__PURE__*/_jsx(PoolContainer,{price:this.props.price,balances:this.props.balances,provideLiq:this.props.provideLiq,removeLiq:this.props.removeLiq});}}]);return Container;}(React.Component);var PoolContainer=/*#__PURE__*/function(_React$Component2){_inherits(PoolContainer,_React$Component2);var _super2=_createSuper(PoolContainer);function PoolContainer(props){var _this;_classCallCheck(this,PoolContainer);_this=_super2.call(this,props);_this.state={provideOrRemove:true,arrow:'compare_arrows',text:'Provide Liquidity',inputFieldText:'Amount of ETH to provide to the Liq Pool',inputFieldTeoText:'Amount of FESB to provide to the Liq Pool'};_this.handleProvideClick=_this.handleProvideClick.bind(_assertThisInitialized(_this));_this.handleRemoveClick=_this.handleRemoveClick.bind(_assertThisInitialized(_this));_this.eth_change=_this.eth_change.bind(_assertThisInitialized(_this));_this.fesb_change=_this.fesb_change.bind(_assertThisInitialized(_this));_this.lp_change=_this.lp_change.bind(_assertThisInitialized(_this));return _this;}_createClass(PoolContainer,[{key:\"handleProvideClick\",value:function handleProvideClick(){this.setState({provideOrRemove:true,inputFieldText:'Amount of ETH to provide to the Liq Pool',text:'Provide Liquidity'});}},{key:\"handleRemoveClick\",value:function handleRemoveClick(){this.setState({provideOrRemove:false,inputFieldText:'Amount of Matej Swap LP tokens you wish to burn',text:'Remove Liquidity'});}},{key:\"eth_change\",value:function eth_change(e){this.setState({eth:e.target.value,fesb:e.target.value*this.props.price});}},{key:\"fesb_change\",value:function fesb_change(e){this.setState({eth:e.target.value/this.props.price,fesb:e.target.value});}},{key:\"lp_change\",value:function lp_change(e){this.setState({lp:e.target.value});}},{key:\"render\",value:function render(){var provideForm=/*#__PURE__*/_jsxs(\"div\",{class:\"marpad\",children:[/*#__PURE__*/_jsx(InputField,{value:this.state.eth,text:this.state.inputFieldText,balances:this.props.balances,input:this.eth_change}),/*#__PURE__*/_jsx(Icon,{arrow:this.state.arrow}),/*#__PURE__*/_jsx(InputFieldTwo,{value:this.state.fesb,text:this.state.inputFieldTeoText,balances:this.props.balances,input:this.fesb_change}),/*#__PURE__*/_jsx(ButtonTwo,{text:this.state.text,onClick:this.props.provideLiq,amountETH:this.state.eth?this.state.eth.toString():'0',amountFESB:this.state.fesb?this.state.fesb.toString():'0'})]});var removeForm=/*#__PURE__*/_jsxs(\"div\",{class:\"marpad\",children:[/*#__PURE__*/_jsx(InputFieldLP,{text:this.state.inputFieldText,balances:this.props.balances,input:this.lp_change,provideOrRemove:true}),/*#__PURE__*/_jsx(ButtonThree,{text:this.state.text,onClick:this.props.removeLiq,amountLPTokens:web3.utils.toWei(this.state.lp?this.state.lp.toString():'0','ether')})]});return/*#__PURE__*/_jsxs(\"div\",{class:\"div z-depth-5\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col s12\",children:[/*#__PURE__*/_jsxs(\"ul\",{class:\"tabs\",children:[/*#__PURE__*/_jsx(Tab,{name:\"Provide\",onClick:this.handleProvideClick,hrefni:\"#provide\"}),/*#__PURE__*/_jsx(Tab,{name:\"Remove\",onClick:this.handleRemoveClick,hrefni:\"#remove\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"hr\"})]}),this.state.provideOrRemove?provideForm:removeForm]});}}]);return PoolContainer;}(React.Component);var SwapContainer=/*#__PURE__*/function(_React$Component3){_inherits(SwapContainer,_React$Component3);var _super3=_createSuper(SwapContainer);function SwapContainer(props){var _this2;_classCallCheck(this,SwapContainer);_this2=_super3.call(this,props);_this2.state={buyOrSell:true,//ovo si doda radi onog errora al nisi testira \"A component is changing ...\"\neth:'',fesb:'',arrow:'arrow_downward',disabledETH:'',disabledFESB:'disabled',textDisplayETH:'This is where you enter your ETH amount: ',textDisplayFESB:'This is how much FESB coins you get: '};_this2.handleBuyClick=_this2.handleBuyClick.bind(_assertThisInitialized(_this2));_this2.handleSellClick=_this2.handleSellClick.bind(_assertThisInitialized(_this2));var tabs=document.querySelector('.tabs');var instance=M.Tabs.init(tabs,{});return _this2;}_createClass(SwapContainer,[{key:\"handleBuyClick\",value:function handleBuyClick(){this.setState({buyOrSell:true,arrow:'arrow_downward',disabledETH:'',disabledFESB:'disabled',textDisplayETH:'This is where you enter your ETH amount: ',textDisplayFESB:'This is how much FESB coins you get: '});}},{key:\"handleSellClick\",value:function handleSellClick(){this.setState({buyOrSell:false,arrow:'arrow_upward',disabledETH:'disabled',disabledFESB:'',textDisplayETH:'This is how much ETH you get: ',textDisplayFESB:'This is where you enter your FESB amount: '});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{class:\"div z-depth-5\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col s12\",children:[/*#__PURE__*/_jsxs(\"ul\",{class:\"tabs\",children:[/*#__PURE__*/_jsx(Tab,{name:\"Buy\",onClick:this.handleBuyClick,hrefni:\"#buy\"}),/*#__PURE__*/_jsx(Tab,{name:\"Sell\",onClick:this.handleSellClick,hrefni:\"#sell\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"hr\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"marpad\",children:[/*#__PURE__*/_jsx(InputField,{disabled:this.state.disabledETH,text:this.state.textDisplayETH,balances:this.props.balances,input:this.props.eth_change,value:this.props.ethChange,buyOrSell:this.state.buyOrSell}),/*#__PURE__*/_jsx(Icon,{arrow:this.state.arrow}),/*#__PURE__*/_jsx(InputFieldTwo,{disabled:this.state.disabledFESB,text:this.state.textDisplayFESB,balances:this.props.balances,input:this.props.fesb_change,value:this.props.fesbChange,buyOrSell:this.state.buyOrSell}),/*#__PURE__*/_jsx(ButtonOne,{text:this.state.buyOrSell?'Buy':'Sell',onClick:this.state.buyOrSell?this.props.buy:this.props.sell,amount:this.state.buyOrSell?this.props.ethChange?this.props.ethChange.toString():'0':this.props.fesbChange?this.props.fesbChange.toString():'0'})]})]});}}]);return SwapContainer;}(React.Component);var Page=/*#__PURE__*/function(_React$Component4){_inherits(Page,_React$Component4);var _super4=_createSuper(Page);function Page(props){var _this3;_classCallCheck(this,Page);_this3=_super4.call(this,props);_this3.buyFesbTokens=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(ethAmount){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this3.state.matejswap.methods.buyFesbTokens().send({from:_this3.state.detectedAccount,value:ethAmount}).on('transactionHash',function(tx){_this3.setState({alertDialog:false,text:tx,okButton:'View on EtherScan.com',dialogTitle:\"Transaction hash:\"});});case 2:_this3.loadWalletInfo();_this3.gettingSwapInfo();case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this3.sellFesbTokens=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(fesbAmount){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this3.state.fesb_token.methods.approve(_this3.state.matejswap._address,fesbAmount).send({from:_this3.state.detectedAccount}).on('transactionHash',function(tx){_this3.setState({alertDialog:false,text:tx,okButton:'View on EtherScan.com',dialogTitle:\"Transaction hash:\"});});case 2:_context2.next=4;return _this3.state.matejswap.methods.sellFesbTokens(fesbAmount,_this3.state.detectedAccount).send({from:_this3.state.detectedAccount}).on('transactionHash',function(tx){_this3.setState({alertDialog:false,text:tx,okButton:'View on EtherScan.com',dialogTitle:\"Transaction hash:\"});});case 4:_this3.loadWalletInfo();_this3.gettingSwapInfo();case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this3.provideLiquidity=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ethAmount,fesbAmount){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this3.state.fesb_token.methods.approve(_this3.state.matejswap._address,fesbAmount).send({from:_this3.state.detectedAccount}).on('transactionHash',function(tx){_this3.setState({alertDialog:false,text:tx,okButton:'View on EtherScan.com',dialogTitle:\"Transaction hash:\"});});case 2:_context3.next=4;return _this3.state.matejswap.methods.provideLiquidity(fesbAmount).send({from:_this3.state.detectedAccount,value:ethAmount}).on('transactionHash',function(tx){_this3.setState({alertDialog:false,text:tx,okButton:'View on EtherScan.com',dialogTitle:\"Transaction hash:\"});});case 4:_this3.loadWalletInfo();_this3.gettingSwapInfo();case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3,_x4){return _ref3.apply(this,arguments);};}();_this3.removeLiquidity=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(LPAmount){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this3.state.matejswap.methods.removeLiquidity(LPAmount,_this3.state.detectedAccount).send({from:_this3.state.detectedAccount}).on('transactionHash',function(tx){_this3.setState({alertDialog:false,text:tx,okButton:'View on EtherScan.com',dialogTitle:\"Transaction hash:\"});});case 2:_this3.loadWalletInfo();_this3.gettingSwapInfo();case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref4.apply(this,arguments);};}();_this3.state={eth:0,fesb:0,detectedAccount:null,network:null,swappingOrPool:true,alertDialog:window.ethereum?true:false,fesb_token:{},balances:{eth_balance:'',fesb_balance:'',lp_balance:''},ethBalanceInPool:'0',fesbBalanceInPool:'0',text:\"Please consider installing MetaMask to fully experience MatejSwap!\",okButton:'Install',dialogTitle:\"MetaMask is not detected!\",writing:true};_this3.handleClick=_this3.handleClick.bind(_assertThisInitialized(_this3));_this3.handleConnect=_this3.handleConnect.bind(_assertThisInitialized(_this3));_this3.handleChange=_this3.handleChange.bind(_assertThisInitialized(_this3));_this3.setAlertDialog=_this3.setAlertDialog.bind(_assertThisInitialized(_this3));_this3.loadWalletInfo=_this3.loadWalletInfo.bind(_assertThisInitialized(_this3));_this3.gettingSwapInfo=_this3.gettingSwapInfo.bind(_assertThisInitialized(_this3));_this3.getBlockchain=_this3.getBlockchain.bind(_assertThisInitialized(_this3));_this3.getContracts=_this3.getContracts.bind(_assertThisInitialized(_this3));_this3.eth_change=_this3.eth_change.bind(_assertThisInitialized(_this3));_this3.fesb_change=_this3.fesb_change.bind(_assertThisInitialized(_this3));return _this3;}_createClass(Page,[{key:\"getContracts\",value:function(){var _getContracts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var fesb_token,matejswap,matejswapLP;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:/* let networkID = await web3.eth.net.getId()\r\n        let FesbNetwork = FesbToken.networks[networkID]\r\n        let MatejSwapNetwork = MatejSwap.networks[networkID]\r\n        let MatejLPNetwork = MatejSwapLP.networks[networkID] */fesb_token=new web3.eth.Contract(FesbToken.abi,'0x5D7b1fD58633cB6FaEF2250838076A5E3634087d');matejswap=new web3.eth.Contract(MatejSwap.abi,'0x421FCB7d64b4DEEc47D3025a7C9362965aefd383');matejswapLP=new web3.eth.Contract(MatejSwapLP.abi,'0xdDcbb84192B858940CD01f08200Cd24E7Aee336F');this.setState({fesb_token:fesb_token,matejswap:matejswap,matejswapLP:matejswapLP});case 4:case\"end\":return _context5.stop();}}},_callee5,this);}));function getContracts(){return _getContracts.apply(this,arguments);}return getContracts;}()},{key:\"getBlockchain\",value:function(){var _getBlockchain=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var accounts,chainId,chainName;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return ethereum.request({method:'eth_accounts'});case 2:accounts=_context6.sent;_context6.next=5;return ethereum.request({method:'eth_chainId'});case 5:chainId=_context6.sent;chainName=null;if(chainId==='0x1')chainName='Mainnet';else if(chainId==='0x3')chainName='Ropsten';else if(chainId==='0x4')chainName='Rinkeby';else if(chainId==='0x2a')chainName='Kovan';else chainName='Local env';this.setState({network:chainName,detectedAccount:accounts?accounts[0]:false});case 9:case\"end\":return _context6.stop();}}},_callee6,this);}));function getBlockchain(){return _getBlockchain.apply(this,arguments);}return getBlockchain;}()},{key:\"handleConnect\",value:function(){var _handleConnect=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var accounts,chainId,chainName;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;if(!window.ethereum){_context7.next=14;break;}_context7.next=4;return ethereum.request({method:'eth_requestAccounts'});case 4:accounts=_context7.sent;_context7.next=7;return ethereum.request({method:'eth_chainId'});case 7:chainId=_context7.sent;chainName=null;if(chainId==='0x1')chainName='Mainnet';else if(chainId==='0x3')chainName='Ropsten';else if(chainId==='0x4')chainName='Rinkeby';else if(chainId==='0x2a')chainName='Kovan';else console.log('Local env');this.setState({network:chainName,detectedAccount:accounts?accounts[0]:false});this.loadWalletInfo();_context7.next=15;break;case 14:window.open('https://metamask.io','_blank');case 15:_context7.next=20;break;case 17:_context7.prev=17;_context7.t0=_context7[\"catch\"](0);this.setState({alertDialog:false,text:_context7.t0.message,dialogTitle:\"Your MetaMask is probably already open!\"});case 20:case\"end\":return _context7.stop();}}},_callee7,this,[[0,17]]);}));function handleConnect(){return _handleConnect.apply(this,arguments);}return handleConnect;}()},{key:\"handleChange\",value:function(){var _handleChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(!window.ethereum){_context8.next=7;break;}_context8.next=3;return this.getBlockchain();case 3:_context8.next=5;return this.loadWalletInfo();case 5:_context8.next=7;break;case 7:case\"end\":return _context8.stop();}}},_callee8,this);}));function handleChange(){return _handleChange.apply(this,arguments);}return handleChange;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var _this4=this;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!this.state.alertDialog){_context10.next=8;break;}_context10.next=3;return this.getContracts();case 3:ethereum.on('accountsChanged',this.handleChange);ethereum.on('chainChanged',this.handleChange);setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return _this4.getBlockchain();case 2:_context9.next=4;return _this4.loadWalletInfo();case 4:_context9.next=6;return _this4.gettingSwapInfo();case 6:case\"end\":return _context9.stop();}}},_callee9);})),1000);_context10.next=8;break;case 8:case\"end\":return _context10.stop();}}},_callee10,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"setAlertDialog\",value:function setAlertDialog(){this.setState({alertDialog:true});}},{key:\"loadWalletInfo\",value:function(){var _loadWalletInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){var eth_balance,fesb_balance,lp_balance;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:if(!this.state.detectedAccount){_context11.next=11;break;}_context11.next=3;return web3.eth.getBalance(this.state.detectedAccount);case 3:eth_balance=_context11.sent;_context11.next=6;return this.state.fesb_token.methods.balanceOf(this.state.detectedAccount).call();case 6:fesb_balance=_context11.sent;_context11.next=9;return this.state.matejswap.methods.balanceOf(this.state.detectedAccount).call();case 9:lp_balance=_context11.sent;if(eth_balance&&fesb_balance){this.setState({balances:{eth_balance:eth_balance.toString(),fesb_balance:fesb_balance.toString(),lp_balance:lp_balance.toString()}});}case 11:case\"end\":return _context11.stop();}}},_callee11,this);}));function loadWalletInfo(){return _loadWalletInfo.apply(this,arguments);}return loadWalletInfo;}()},{key:\"gettingSwapInfo\",value:function(){var _gettingSwapInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){var ethBalanceInPool,fesbBalanceInPool,eth,fesb,constant,price;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return web3.eth.getBalance(this.state.matejswap._address);case 2:ethBalanceInPool=_context12.sent;_context12.next=5;return this.state.fesb_token.methods.balanceOf(this.state.matejswap._address).call();case 5:fesbBalanceInPool=_context12.sent;eth=web3.utils.fromWei(ethBalanceInPool,'ether');fesb=web3.utils.fromWei(fesbBalanceInPool,'ether');constant=eth*fesb;price=fesb/eth;this.setState({eth:eth,fesb:fesb,ethBalanceInPool:ethBalanceInPool.toString(),fesbBalanceInPool:fesbBalanceInPool.toString(),price:price,constant:constant});case 11:case\"end\":return _context12.stop();}}},_callee12,this);}));function gettingSwapInfo(){return _gettingSwapInfo.apply(this,arguments);}return gettingSwapInfo;}()},{key:\"handleClick\",value:function handleClick(actionTookOnTheExchange){this.setState({swappingOrPool:actionTookOnTheExchange});}},{key:\"eth_change\",value:function eth_change(e){var fesb_pool=this.state.constant/(parseFloat(e.target.value)+parseFloat(this.state.eth));var fesb_received=this.state.fesb-fesb_pool;this.setState({ethChange:e.target.value,fesbChange:fesb_received,writing:true});}},{key:\"fesb_change\",value:function fesb_change(e){var eth_pool=this.state.constant/(parseFloat(e.target.value)+parseFloat(this.state.fesb));var eth_received=this.state.eth-eth_pool;this.setState({ethChange:eth_received,fesbChange:e.target.value,writing:false});}},{key:\"render\",value:function render(){if(!this.state.alertDialog){return/*#__PURE__*/_jsx(AlertDialog,{setAlertDialog:this.setAlertDialog,text:this.state.text,okButton:this.state.okButton,dialogTitle:this.state.dialogTitle});}else{return/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NavBar,{active:\"active\",swiping:this.handleClick,detectedAccount:this.state.detectedAccount,network:this.state.network,handleConnect:this.handleConnect,handleChange:this.handleChange})}),/*#__PURE__*/_jsxs(\"div\",{class:\"col s3\",children:[/*#__PURE__*/_jsx(PriceAndInfoSideDiv,{eth:this.state.ethBalanceInPool,fesb:this.state.fesbBalanceInPool}),/*#__PURE__*/_jsx(Curve,{addingEth:this.state.writing?this.state.ethChange:0,addingToken:this.state.writing?0:this.state.fesbChange,ethReserve:parseFloat(this.state.eth),tokenReserve:parseFloat(this.state.fesb),width:350,height:350})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col s6\",children:/*#__PURE__*/_jsx(Container,{price:this.state.price,swapping:this.state.swappingOrPool,balances:this.state.balances,buy:this.buyFesbTokens,eth:this.state.eth,fesb:this.state.fesb,ethChange:this.state.ethChange,fesbChange:this.state.fesbChange,sell:this.sellFesbTokens,provideLiq:this.provideLiquidity,removeLiq:this.removeLiquidity,eth_change:this.eth_change,fesb_change:this.fesb_change})}),/*#__PURE__*/_jsx(\"div\",{class:\"col s3\",children:\"Ovdi bi tribale bit upute\"})]});}}}]);return Page;}(React.Component);ReactDOM.render(/*#__PURE__*/_jsx(Page,{}),document.getElementById(\"root\"));","map":{"version":3,"sources":["C:/Users/datej/OneDrive/Desktop/zavrsni/DEX-ETH/src/index.js"],"names":["React","ReactDOM","Web3","M","updateTextFields","FesbToken","MatejSwap","MatejSwapLP","Identicon","DialogBox","AlertDialog","PriceAndInfoSideDiv","Icon","ButtonOne","ButtonTwo","ButtonThree","InputFieldLP","NavBar","InputField","InputFieldTwo","Tab","Curve","web3","givenProvider","Container","props","swapping","eth","fesb","eth_change","fesb_change","constant","price","balances","ethChange","fesbChange","buy","sell","provideLiq","removeLiq","Component","PoolContainer","state","provideOrRemove","arrow","text","inputFieldText","inputFieldTeoText","handleProvideClick","bind","handleRemoveClick","lp_change","setState","e","target","value","lp","provideForm","toString","removeForm","utils","toWei","SwapContainer","buyOrSell","disabledETH","disabledFESB","textDisplayETH","textDisplayFESB","handleBuyClick","handleSellClick","tabs","document","querySelector","instance","Tabs","init","Page","buyFesbTokens","ethAmount","matejswap","methods","send","from","detectedAccount","on","tx","alertDialog","okButton","dialogTitle","loadWalletInfo","gettingSwapInfo","sellFesbTokens","fesbAmount","fesb_token","approve","_address","provideLiquidity","removeLiquidity","LPAmount","network","swappingOrPool","window","ethereum","eth_balance","fesb_balance","lp_balance","ethBalanceInPool","fesbBalanceInPool","writing","handleClick","handleConnect","handleChange","setAlertDialog","getBlockchain","getContracts","Contract","abi","matejswapLP","request","method","accounts","chainId","chainName","console","log","open","message","setTimeout","getBalance","balanceOf","call","fromWei","actionTookOnTheExchange","fesb_pool","parseFloat","fesb_received","eth_pool","eth_received","render","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Web3 from 'web3';\r\nimport M, { updateTextFields } from 'materialize-css';\r\nimport './index.css';\r\nimport FesbToken from './build/FesbToken.json';\r\nimport MatejSwap from './build/MatejSwap.json';\r\nimport MatejSwapLP from './build/MatejSwapLP.json'\r\nimport Identicon from 'identicon.js';\r\nimport DialogBox from './components/AlertDialog'\r\nimport AlertDialog from './components/AlertDialog';\r\nimport PriceAndInfoSideDiv from './components/PriceAndInfoSideDiv';\r\nimport Icon from './components/Icon';\r\nimport ButtonOne from './components/ButtonOne';\r\nimport ButtonTwo from './components/ButtonTwo';\r\nimport ButtonThree from './components/ButtonThree';\r\nimport InputFieldLP from './components/InputFieldLP';\r\nimport NavBar from './components/Navbar';\r\nimport InputField from './components/InputField'\r\nimport InputFieldTwo from './components/InputFieldTwo'\r\nimport Tab from './components/Tab'\r\nimport Curve from './components/Curve.js'\r\n\r\nlet web3 = new Web3(Web3.givenProvider)\r\n\r\nclass Container extends React.Component {\r\n    render() {\r\n        if (this.props.swapping === true)\r\n            return <SwapContainer eth={this.props.eth} fesb={this.props.fesb} eth_change={this.props.eth_change} fesb_change={this.props.fesb_change}\r\n                constant={this.props.constant} price={this.props.price} balances={this.props.balances}\r\n                ethChange={this.props.ethChange} fesbChange={this.props.fesbChange}\r\n                buy={this.props.buy} sell={this.props.sell} />\r\n        else\r\n            return <PoolContainer\r\n                price={this.props.price} balances={this.props.balances} provideLiq={this.props.provideLiq} removeLiq={this.props.removeLiq} />\r\n    }\r\n}\r\n\r\nclass PoolContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = ({\r\n            provideOrRemove: true,\r\n            arrow: 'compare_arrows',\r\n            text: 'Provide Liquidity',\r\n            inputFieldText: 'Amount of ETH to provide to the Liq Pool',\r\n            inputFieldTeoText: 'Amount of FESB to provide to the Liq Pool'\r\n        })\r\n        this.handleProvideClick = this.handleProvideClick.bind(this);\r\n        this.handleRemoveClick = this.handleRemoveClick.bind(this);\r\n\r\n        this.eth_change = this.eth_change.bind(this);\r\n        this.fesb_change = this.fesb_change.bind(this);\r\n        this.lp_change = this.lp_change.bind(this);\r\n\r\n    }\r\n\r\n    handleProvideClick() {\r\n        this.setState({\r\n            provideOrRemove: true,\r\n            inputFieldText: 'Amount of ETH to provide to the Liq Pool',\r\n            text: 'Provide Liquidity'\r\n        })\r\n    }\r\n\r\n    handleRemoveClick() {\r\n        this.setState({\r\n            provideOrRemove: false,\r\n            inputFieldText: 'Amount of Matej Swap LP tokens you wish to burn',\r\n            text: 'Remove Liquidity'\r\n        })\r\n    }\r\n\r\n    eth_change(e) {\r\n        this.setState({\r\n            eth: e.target.value,\r\n            fesb: e.target.value * this.props.price\r\n        })\r\n    }\r\n\r\n    fesb_change(e) {\r\n        this.setState({\r\n            eth: e.target.value / this.props.price,\r\n            fesb: e.target.value,\r\n        })\r\n    }\r\n\r\n    lp_change(e) {\r\n        this.setState({\r\n            lp: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        let provideForm = (<div class=\"marpad\">\r\n            <InputField value={this.state.eth} text={this.state.inputFieldText} balances={this.props.balances} input={this.eth_change} />\r\n            <Icon arrow={this.state.arrow} />\r\n            <InputFieldTwo value={this.state.fesb} text={this.state.inputFieldTeoText} balances={this.props.balances} input={this.fesb_change} />\r\n            <ButtonTwo text={this.state.text}\r\n                onClick={this.props.provideLiq} amountETH={this.state.eth ? this.state.eth.toString() : '0'} amountFESB={this.state.fesb ? this.state.fesb.toString() : '0'}\r\n            />\r\n        </div>)\r\n\r\n        let removeForm = <div class=\"marpad\">\r\n            <InputFieldLP text={this.state.inputFieldText} balances={this.props.balances} input={this.lp_change} provideOrRemove={true} />\r\n            <ButtonThree text={this.state.text}\r\n                onClick={this.props.removeLiq} amountLPTokens={web3.utils.toWei(this.state.lp ? this.state.lp.toString() : '0', 'ether')}\r\n            />\r\n        </div>\r\n\r\n        return (\r\n            <div class=\"div z-depth-5\">\r\n                <div class=\"col s12\">\r\n                    <ul class=\"tabs\">\r\n                        <Tab name=\"Provide\" onClick={this.handleProvideClick} hrefni='#provide' />\r\n                        <Tab name=\"Remove\" onClick={this.handleRemoveClick} hrefni='#remove' />\r\n                    </ul>\r\n                    <div class=\"hr\" />\r\n                </div>\r\n                {this.state.provideOrRemove ? provideForm : removeForm}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass SwapContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = ({\r\n            buyOrSell: true,\r\n\r\n            //ovo si doda radi onog errora al nisi testira \"A component is changing ...\"\r\n            eth: '',\r\n            fesb: '',\r\n\r\n            arrow: 'arrow_downward',\r\n            disabledETH: '',\r\n            disabledFESB: 'disabled',\r\n            textDisplayETH: 'This is where you enter your ETH amount: ',\r\n            textDisplayFESB: 'This is how much FESB coins you get: '\r\n        });\r\n\r\n        this.handleBuyClick = this.handleBuyClick.bind(this);\r\n        this.handleSellClick = this.handleSellClick.bind(this);\r\n\r\n        const tabs = document.querySelector('.tabs');\r\n        var instance = M.Tabs.init(tabs, {});\r\n    }\r\n\r\n    handleBuyClick() {\r\n        this.setState({\r\n            buyOrSell: true,\r\n            arrow: 'arrow_downward',\r\n            disabledETH: '',\r\n            disabledFESB: 'disabled',\r\n            textDisplayETH: 'This is where you enter your ETH amount: ',\r\n            textDisplayFESB: 'This is how much FESB coins you get: '\r\n        })\r\n    }\r\n\r\n    handleSellClick() {\r\n        this.setState({\r\n            buyOrSell: false,\r\n            arrow: 'arrow_upward',\r\n            disabledETH: 'disabled',\r\n            disabledFESB: '',\r\n            textDisplayETH: 'This is how much ETH you get: ',\r\n            textDisplayFESB: 'This is where you enter your FESB amount: '\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div class=\"div z-depth-5\">\r\n                <div class=\"col s12\">\r\n                    <ul class=\"tabs\">\r\n                        <Tab name=\"Buy\" onClick={this.handleBuyClick} hrefni='#buy' />\r\n                        <Tab name=\"Sell\" onClick={this.handleSellClick} hrefni='#sell' />\r\n                    </ul>\r\n                    <div class=\"hr\" />\r\n                </div>\r\n                <div class=\"marpad\">\r\n                    <InputField disabled={this.state.disabledETH} text={this.state.textDisplayETH} balances={this.props.balances}\r\n                        input={this.props.eth_change} value={this.props.ethChange} buyOrSell={this.state.buyOrSell} />\r\n                    <Icon arrow={this.state.arrow} />\r\n                    <InputFieldTwo disabled={this.state.disabledFESB} text={this.state.textDisplayFESB} balances={this.props.balances}\r\n                        input={this.props.fesb_change} value={this.props.fesbChange} buyOrSell={this.state.buyOrSell} />\r\n                    <ButtonOne text={this.state.buyOrSell ? 'Buy' : 'Sell'}\r\n                        onClick={this.state.buyOrSell ? this.props.buy : this.props.sell} amount={this.state.buyOrSell ? (this.props.ethChange ? this.props.ethChange.toString() : '0') : (this.props.fesbChange ? this.props.fesbChange.toString() : '0')} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Page extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = ({\r\n            eth: 0,\r\n            fesb: 0,\r\n            detectedAccount: null,\r\n            network: null,\r\n            swappingOrPool: true,\r\n            alertDialog: window.ethereum ? true : false,\r\n            fesb_token: {},\r\n            balances: {\r\n                eth_balance: '',\r\n                fesb_balance: '',\r\n                lp_balance: ''\r\n            },\r\n            ethBalanceInPool: '0',\r\n            fesbBalanceInPool: '0',\r\n            text: \"Please consider installing MetaMask to fully experience MatejSwap!\",\r\n            okButton: 'Install',\r\n            dialogTitle: \"MetaMask is not detected!\",\r\n            writing: true\r\n        })\r\n\r\n        this.handleClick = this.handleClick.bind(this)\r\n        this.handleConnect = this.handleConnect.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n\r\n        this.setAlertDialog = this.setAlertDialog.bind(this);\r\n        this.loadWalletInfo = this.loadWalletInfo.bind(this);\r\n\r\n        this.gettingSwapInfo = this.gettingSwapInfo.bind(this);\r\n        this.getBlockchain = this.getBlockchain.bind(this);\r\n        this.getContracts = this.getContracts.bind(this);\r\n\r\n        this.eth_change = this.eth_change.bind(this);\r\n        this.fesb_change = this.fesb_change.bind(this)\r\n\r\n    }\r\n\r\n    async getContracts() {\r\n        /* let networkID = await web3.eth.net.getId()\r\n        let FesbNetwork = FesbToken.networks[networkID]\r\n        let MatejSwapNetwork = MatejSwap.networks[networkID]\r\n        let MatejLPNetwork = MatejSwapLP.networks[networkID] */\r\n\r\n        let fesb_token = new web3.eth.Contract(FesbToken.abi, '0x5D7b1fD58633cB6FaEF2250838076A5E3634087d')\r\n        let matejswap = new web3.eth.Contract(MatejSwap.abi, '0x421FCB7d64b4DEEc47D3025a7C9362965aefd383')\r\n        let matejswapLP = new web3.eth.Contract(MatejSwapLP.abi, '0xdDcbb84192B858940CD01f08200Cd24E7Aee336F')\r\n\r\n        this.setState({\r\n            fesb_token,\r\n            matejswap,\r\n            matejswapLP\r\n        })\r\n    }\r\n\r\n    async getBlockchain() {\r\n        const accounts = await ethereum.request({ method: 'eth_accounts' });\r\n        const chainId = await ethereum.request({ method: 'eth_chainId' });\r\n\r\n        let chainName = null;\r\n        if (chainId === '0x1')\r\n            chainName = 'Mainnet'\r\n        else if (chainId === '0x3')\r\n            chainName = 'Ropsten'\r\n        else if (chainId === '0x4')\r\n            chainName = 'Rinkeby'\r\n        else if (chainId === '0x2a')\r\n            chainName = 'Kovan'\r\n        else chainName = 'Local env'\r\n        this.setState({\r\n            network: chainName,\r\n            detectedAccount: accounts ? accounts[0] : false\r\n        })\r\n    }\r\n\r\n    async handleConnect() {\r\n\r\n        try {\r\n            if (window.ethereum) {\r\n                const accounts = await ethereum.request({ method: 'eth_requestAccounts' });\r\n                const chainId = await ethereum.request({ method: 'eth_chainId' });\r\n\r\n                let chainName = null;\r\n                if (chainId === '0x1')\r\n                    chainName = 'Mainnet'\r\n                else if (chainId === '0x3')\r\n                    chainName = 'Ropsten'\r\n                else if (chainId === '0x4')\r\n                    chainName = 'Rinkeby'\r\n                else if (chainId === '0x2a')\r\n                    chainName = 'Kovan'\r\n                else console.log('Local env')\r\n                this.setState({\r\n                    network: chainName,\r\n                    detectedAccount: accounts ? accounts[0] : false\r\n                })\r\n                this.loadWalletInfo()\r\n            } else {\r\n                window.open('https://metamask.io', '_blank');\r\n            }\r\n        } catch (e) {\r\n            this.setState({\r\n                alertDialog: false,\r\n                text: e.message,\r\n                dialogTitle: \"Your MetaMask is probably already open!\"\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    async handleChange() {\r\n\r\n        if (window.ethereum) {\r\n            await this.getBlockchain()\r\n            await this.loadWalletInfo()\r\n        } else {\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        if (this.state.alertDialog) {\r\n            await this.getContracts()\r\n\r\n            ethereum.on('accountsChanged', this.handleChange);\r\n            ethereum.on('chainChanged', this.handleChange);\r\n\r\n            setTimeout(async () => {\r\n\r\n                await this.getBlockchain();\r\n                await this.loadWalletInfo();\r\n                await this.gettingSwapInfo()\r\n\r\n            }, 1000);\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    setAlertDialog() {\r\n        this.setState({\r\n            alertDialog: true\r\n        })\r\n    }\r\n\r\n\r\n\r\n    async loadWalletInfo() {\r\n\r\n        if (this.state.detectedAccount) {\r\n            let eth_balance = await web3.eth.getBalance(this.state.detectedAccount)\r\n            let fesb_balance = await this.state.fesb_token.methods.balanceOf(this.state.detectedAccount).call()\r\n            let lp_balance = await this.state.matejswap.methods.balanceOf(this.state.detectedAccount).call()\r\n\r\n            if (eth_balance && fesb_balance) {\r\n                this.setState({\r\n                    balances: {\r\n                        eth_balance: eth_balance.toString(),\r\n                        fesb_balance: fesb_balance.toString(),\r\n                        lp_balance: lp_balance.toString()\r\n                    }\r\n                })\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    async gettingSwapInfo() {\r\n\r\n        let ethBalanceInPool = await web3.eth.getBalance(this.state.matejswap._address)\r\n        let fesbBalanceInPool = await this.state.fesb_token.methods.balanceOf(this.state.matejswap._address).call()\r\n        let eth = web3.utils.fromWei(ethBalanceInPool, 'ether')\r\n        let fesb = web3.utils.fromWei(fesbBalanceInPool, 'ether')\r\n        let constant = eth * fesb\r\n        let price = fesb / eth\r\n\r\n        this.setState({\r\n            eth,\r\n            fesb,\r\n            ethBalanceInPool: ethBalanceInPool.toString(),\r\n            fesbBalanceInPool: fesbBalanceInPool.toString(),\r\n            price,\r\n            constant\r\n        })\r\n    }\r\n\r\n\r\n    buyFesbTokens = async (ethAmount) => {\r\n        await this.state.matejswap.methods.buyFesbTokens().send({ from: this.state.detectedAccount, value: ethAmount }).on('transactionHash', (tx) => {\r\n            this.setState({\r\n                alertDialog: false,\r\n                text: tx,\r\n                okButton: 'View on EtherScan.com',\r\n                dialogTitle: \"Transaction hash:\"\r\n            })\r\n        })\r\n        this.loadWalletInfo()\r\n        this.gettingSwapInfo()\r\n    }\r\n\r\n    sellFesbTokens = async (fesbAmount) => {\r\n        await this.state.fesb_token.methods.approve(this.state.matejswap._address, fesbAmount).send({ from: this.state.detectedAccount }).on('transactionHash', (tx) => {\r\n            this.setState({\r\n                alertDialog: false,\r\n                text: tx,\r\n                okButton: 'View on EtherScan.com',\r\n                dialogTitle: \"Transaction hash:\"\r\n            })\r\n        })\r\n        await this.state.matejswap.methods.sellFesbTokens(fesbAmount, this.state.detectedAccount).send({ from: this.state.detectedAccount }).on('transactionHash', (tx) => {\r\n            this.setState({\r\n                alertDialog: false,\r\n                text: tx,\r\n                okButton: 'View on EtherScan.com',\r\n                dialogTitle: \"Transaction hash:\"\r\n            })\r\n        })\r\n        this.loadWalletInfo()\r\n        this.gettingSwapInfo()\r\n    }\r\n\r\n    provideLiquidity = async (ethAmount, fesbAmount) => {\r\n        await this.state.fesb_token.methods.approve(this.state.matejswap._address, fesbAmount).send({ from: this.state.detectedAccount }).on('transactionHash', (tx) => {\r\n            this.setState({\r\n                alertDialog: false,\r\n                text: tx,\r\n                okButton: 'View on EtherScan.com',\r\n                dialogTitle: \"Transaction hash:\"\r\n            })\r\n        })\r\n        await this.state.matejswap.methods.provideLiquidity(fesbAmount).send({ from: this.state.detectedAccount, value: ethAmount }).on('transactionHash', (tx) => {\r\n            this.setState({\r\n                alertDialog: false,\r\n                text: tx,\r\n                okButton: 'View on EtherScan.com',\r\n                dialogTitle: \"Transaction hash:\"\r\n            })\r\n        })\r\n        this.loadWalletInfo()\r\n        this.gettingSwapInfo()\r\n    }\r\n\r\n    removeLiquidity = async (LPAmount) => {\r\n        await this.state.matejswap.methods.removeLiquidity(LPAmount, this.state.detectedAccount).send({ from: this.state.detectedAccount }).on('transactionHash', (tx) => {\r\n            this.setState({\r\n                alertDialog: false,\r\n                text: tx,\r\n                okButton: 'View on EtherScan.com',\r\n                dialogTitle: \"Transaction hash:\"\r\n            })\r\n        })\r\n        this.loadWalletInfo()\r\n        this.gettingSwapInfo()\r\n    }\r\n\r\n    handleClick(actionTookOnTheExchange) {\r\n        this.setState({\r\n            swappingOrPool: actionTookOnTheExchange\r\n        })\r\n    }\r\n\r\n    eth_change(e) {\r\n        let fesb_pool = this.state.constant / (parseFloat(e.target.value) + parseFloat(this.state.eth))\r\n        let fesb_received = this.state.fesb - fesb_pool\r\n        this.setState({\r\n            ethChange: e.target.value,\r\n            fesbChange: fesb_received,\r\n            writing: true\r\n        })\r\n    }\r\n\r\n    fesb_change(e) {\r\n        let eth_pool = this.state.constant / (parseFloat(e.target.value) + parseFloat(this.state.fesb))\r\n        let eth_received = this.state.eth - eth_pool\r\n        this.setState({\r\n            ethChange: eth_received,\r\n            fesbChange: e.target.value,\r\n            writing: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.state.alertDialog) {\r\n            return (<AlertDialog setAlertDialog={this.setAlertDialog} text={this.state.text} okButton={this.state.okButton}\r\n                dialogTitle={this.state.dialogTitle} />)\r\n        } else {\r\n            return (\r\n                <div class=\"row\">\r\n                    <div>\r\n                        <NavBar active=\"active\" swiping={this.handleClick} detectedAccount={this.state.detectedAccount}\r\n                            network={this.state.network} handleConnect={this.handleConnect} handleChange={this.handleChange} />\r\n                    </div>\r\n                    <div class=\"col s3\">\r\n                        <PriceAndInfoSideDiv eth={this.state.ethBalanceInPool} fesb={this.state.fesbBalanceInPool} />\r\n                        <Curve\r\n                            addingEth={(this.state.writing) ? this.state.ethChange : 0}\r\n                            addingToken={(this.state.writing) ? 0 : this.state.fesbChange}\r\n                            ethReserve={parseFloat(this.state.eth)}\r\n                            tokenReserve={parseFloat(this.state.fesb)}\r\n                            width={350} height={350} />\r\n                    </div>\r\n                    <div class=\"col s6\">\r\n                        <Container price={this.state.price} swapping={this.state.swappingOrPool} balances={this.state.balances}\r\n                            buy={this.buyFesbTokens} eth={this.state.eth} fesb={this.state.fesb}\r\n                            ethChange={this.state.ethChange} fesbChange={this.state.fesbChange}\r\n                            sell={this.sellFesbTokens} provideLiq={this.provideLiquidity} removeLiq={this.removeLiquidity}\r\n                            eth_change={this.eth_change} fesb_change={this.fesb_change} />\r\n                    </div>\r\n                    <div class=\"col s3\">Ovdi bi tribale bit upute</div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nReactDOM.render(<Page />, document.getElementById(\"root\"));"]},"metadata":{},"sourceType":"module"}